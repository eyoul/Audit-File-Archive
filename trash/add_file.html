{% extends 'admin/layout.html' %}

{% block content %}
  <h2>Add File</h2>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul class="alert alert-info">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form method="post" enctype="multipart/form-data">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" name="description" class="form-control" required></textarea>
    </div>
    <div class="form-group">
      <label for="docType_id">Document Type:</label>
      <select id="docType_id" name="docType_id" class="form-control" required>
        <option value="">-- Select Document Type --</option>
        {% for docType in docTypes %}
          <option value="{{ docType.id }}">{{ docType.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="file_path">File:</label>
      <input type="file" id="file_path" name="file_path" class="form-control-file" required>
    </div>
    <hr>
    <h3>Assign to:</h3>
    <div class="form-group">
      <label for="division_id">Division:</label>
      <select id="division_id" name="division_id" class="form-control" required>
        <option value="">-- Select Division --</option>
        {% for division in divisions %}
          <option value="{{ division.id }}">{{ division.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="department_id">Department:</label>
      <select id="department_id" name="department_id" class="form-control" required>
        <option value="">-- Select Department --</option>
        {% for department in departments %}
          <option value="{{ department.id }}">{{ department.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="unit_id">Unit:</label>
      <select id="unit_id" name="unit_id" class="form-control" required>
        <option value="">-- Select Unit --</option>
        {% for unit in units %}
          <option value="{{ unit.id }}">{{ unit.name }}</option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Add File</button>
  </form>
{% endblock %}